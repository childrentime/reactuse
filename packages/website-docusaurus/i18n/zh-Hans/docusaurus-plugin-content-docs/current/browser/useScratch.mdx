---
title: useScratch 用法与示例
sidebar_label: useScratch
description: 跟踪元素上的刮擦/拖动手势，支持鼠标和触摸。 本文介绍其用法、最佳实践与代码示例。
---
# useScratch

跟踪元素上的刮擦/拖动手势，支持鼠标和触摸。

## Usage

```tsx live
function Demo() {
  const elementRef = useRef(null);
  const state = useScratch(elementRef, {
    onScratchStart: (s) => {
      console.log('开始刮擦:', s);
    },
    onScratch: (s) => {
      console.log('刮擦中:', s);
    },
    onScratchEnd: (s) => {
      console.log('刮擦结束:', s);
    },
  });

  return (
    <div style={{ padding: '20px' }}>
      <div
        ref={elementRef}
        style={{
          width: '300px',
          height: '200px',
          border: '1px solid var(--ifm-color-emphasis-300)',
          borderRadius: '8px',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          backgroundColor: state.isScratching ? 'var(--ifm-color-emphasis-200)' : 'var(--ifm-background-surface-color)',
          color: 'var(--ifm-color-content)',
          cursor: 'pointer',
          userSelect: 'none',
        }}
      >
        {state.isScratching ? '刮擦中...' : '点击并拖动以刮擦'}
      </div>
      <div style={{ marginTop: '20px', fontFamily: 'monospace', fontSize: '12px', color: 'var(--ifm-color-content)' }}>
        <div><strong>正在刮擦:</strong> {state.isScratching ? '是' : '否'}</div>
        {state.x !== undefined && <div><strong>x:</strong> {Math.round(state.x)}</div>}
        {state.y !== undefined && <div><strong>y:</strong> {Math.round(state.y)}</div>}
        {state.dx !== undefined && <div><strong>dx:</strong> {Math.round(state.dx)}</div>}
        {state.dy !== undefined && <div><strong>dy:</strong> {Math.round(state.dy)}</div>}
      </div>
    </div>
  );
};

```

%%API%%

