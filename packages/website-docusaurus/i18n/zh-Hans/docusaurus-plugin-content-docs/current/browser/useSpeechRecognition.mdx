---
title: useSpeechRecognition ç”¨æ³•ä¸ç¤ºä¾‹
sidebar_label: useSpeechRecognition
description: >-
  ç”¨äº React çš„å“åº”å¼è¯­éŸ³è¯†åˆ« APIã€‚æ”¯æŒå®æ—¶è¯­éŸ³è¯†åˆ«ã€å¯é…ç½®é€‰é¡¹ã€è·¨æµè§ˆå™¨å…¼å®¹æ€§å’Œ TypeScript æ”¯æŒã€‚äº†è§£ç”¨æ³•æ¨¡å¼ã€æœ€ä½³å®è·µå’Œä»£ç ç¤ºä¾‹ã€‚
---
# useSpeechRecognition

ç”¨äº React çš„å“åº”å¼è¯­éŸ³è¯†åˆ« API

æ”¯æŒå®æ—¶è¯­éŸ³è¯†åˆ«ã€å¯é…ç½®é€‰é¡¹ã€è·¨æµè§ˆå™¨å…¼å®¹æ€§å’Œ TypeScript æ”¯æŒã€‚éå¸¸é€‚åˆè¯­éŸ³æ§åˆ¶åº”ç”¨ç¨‹åºã€å¬å†™åŠŸèƒ½å’Œæ— éšœç¢å¢å¼ºã€‚

## åŸºæœ¬ç”¨æ³•

```tsx live
function Demo() {
  const {
    isSupported,
    isListening,
    isFinal,
    result,
    error,
    start,
    stop,
    toggle,
  } = useSpeechRecognition();

  if (!isSupported) {
    return <div>æ­¤æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«</div>;
  }

  return (
    <div>
      <div style={{ marginBottom: '20px' }}>
        <p><strong>çŠ¶æ€:</strong> {isListening ? 'æ­£åœ¨ç›‘å¬...' : 'å·²åœæ­¢'}</p>
        <p><strong>ç»“æœ:</strong> {result || 'æœªæ£€æµ‹åˆ°è¯­éŸ³'}</p>
        <p><strong>æœ€ç»ˆç»“æœ:</strong> {isFinal ? 'æ˜¯' : 'å¦'}</p>
        {error && <p style={{ color: 'var(--ifm-color-danger)' }}><strong>é”™è¯¯:</strong> {error.error}</p>}
      </div>
      
      <div style={{ display: 'flex', gap: '10px' }}>
        <button onClick={start} disabled={isListening}>
          å¼€å§‹
        </button>
        <button onClick={stop} disabled={!isListening}>
          åœæ­¢
        </button>
        <button onClick={() => toggle()}>
          åˆ‡æ¢
        </button>
      </div>
    </div>
  );
}
```

## è‡ªå®šä¹‰é…ç½®é€‰é¡¹

```tsx live
function Demo() {
  const {
    isSupported,
    isListening,
    result,
    start,
    stop,
  } = useSpeechRecognition({
    continuous: true,
    interimResults: true,
    lang: 'zh-CN',
    maxAlternatives: 1,
  });

  if (!isSupported) {
    return <div>ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«</div>;
  }

  return (
    <div>
      <div style={{ marginBottom: '20px' }}>
        <p><strong>è¯†åˆ«ç»“æœ:</strong></p>
        <div style={{ 
          padding: '10px', 
          border: '1px solid var(--ifm-color-emphasis-200)', 
          borderRadius: '4px',
          minHeight: '60px',
          backgroundColor: 'var(--ifm-background-surface-color)',
          color: 'var(--ifm-color-content)'
        }}>
          {result || 'å¼€å§‹è¯´è¯...'}
        </div>
      </div>
      
      <div style={{ display: 'flex', gap: '10px' }}>
        <button 
          onClick={start} 
          disabled={isListening}
          style={{ 
            backgroundColor: isListening ? 'var(--ifm-color-emphasis-300)' : 'var(--ifm-color-primary)',
            color: 'var(--ifm-color-white)',
            border: 'none',
            padding: '8px 16px',
            borderRadius: '4px',
            cursor: 'pointer'
          }}
        >
          {isListening ? 'æ­£åœ¨ç›‘å¬...' : 'å¼€å§‹è¯†åˆ«'}
        </button>
        <button 
          onClick={stop} 
          disabled={!isListening}
          style={{ 
            backgroundColor: !isListening ? 'var(--ifm-color-emphasis-300)' : 'var(--ifm-color-danger)',
            color: 'var(--ifm-color-white)',
            border: 'none',
            padding: '8px 16px',
            borderRadius: '4px',
            cursor: 'pointer'
          }}
        >
          åœæ­¢
        </button>
      </div>
    </div>
  );
}
```

## å¤šè¯­è¨€æ”¯æŒ

```tsx live
function Demo() {
  const [selectedLang, setSelectedLang] = React.useState('zh-CN');
  
  const {
    isSupported,
    isListening,
    result,
    start,
    stop,
  } = useSpeechRecognition({
    lang: selectedLang,
    continuous: true,
    interimResults: true,
  });

  const languages = [
    { code: 'zh-CN', name: 'ä¸­æ–‡ (ç®€ä½“)' },
    { code: 'en-US', name: 'English (US)' },
    { code: 'ja-JP', name: 'æ—¥æœ¬èª' },
    { code: 'ko-KR', name: 'í•œêµ­ì–´' },
    { code: 'es-ES', name: 'EspaÃ±ol' },
    { code: 'fr-FR', name: 'FranÃ§ais' },
  ];

  if (!isSupported) {
    return <div>ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«</div>;
  }

  return (
    <div>
      <div style={{ marginBottom: '20px' }}>
        <label>
          <strong>è¯­è¨€:</strong>
          <select 
            value={selectedLang} 
            onChange={(e) => setSelectedLang(e.target.value)}
            style={{ 
              marginLeft: '10px', 
              padding: '4px',
              backgroundColor: 'var(--ifm-background-color)',
              color: 'var(--ifm-color-content)',
              border: '1px solid var(--ifm-color-emphasis-300)',
              borderRadius: '4px'
            }}
            disabled={isListening}
          >
            {languages.map(lang => (
              <option key={lang.code} value={lang.code}>
                {lang.name}
              </option>
            ))}
          </select>
        </label>
      </div>
      
      <div style={{ marginBottom: '20px' }}>
        <div style={{ 
          padding: '10px', 
          border: '1px solid var(--ifm-color-emphasis-200)', 
          borderRadius: '4px',
          minHeight: '80px',
          backgroundColor: 'var(--ifm-background-surface-color)',
          color: 'var(--ifm-color-content)'
        }}>
          {result || `å¼€å§‹ç”¨${languages.find(l => l.code === selectedLang)?.name}è¯´è¯...`}
        </div>
      </div>
      
      <div style={{ display: 'flex', gap: '10px' }}>
        <button onClick={() => start(selectedLang)} disabled={isListening}>
          å¼€å§‹ ({selectedLang})
        </button>
        <button onClick={stop} disabled={!isListening}>
          åœæ­¢
        </button>
      </div>
    </div>
  );
}
```

## åŠ¨æ€è¯­è¨€å’Œæ¨¡å¼åˆ‡æ¢

```tsx live
function DynamicOptionsDemo() {
  const {
    isSupported,
    isListening,
    result,
    start,
    stop,
  } = useSpeechRecognition();

  const quickOptions = [
    { 
      language: 'zh-CN', 
      name: 'ä¸­æ–‡ (è¿ç»­)', 
      flag: 'ğŸ‡¨ğŸ‡³', 
      continuous: true,
      color: 'var(--ifm-color-primary)'
    },
    { 
      language: 'zh-CN', 
      name: 'ä¸­æ–‡ (å•æ¬¡)', 
      flag: 'ğŸ‡¨ğŸ‡³', 
      continuous: false,
      color: 'var(--ifm-color-secondary)'
    },
    { 
      language: 'en-US', 
      name: 'English (Continuous)', 
      flag: 'ğŸ‡ºğŸ‡¸', 
      continuous: true,
      color: 'var(--ifm-color-success)'
    },
    { 
      language: 'en-US', 
      name: 'English (Single)', 
      flag: 'ğŸ‡ºğŸ‡¸', 
      continuous: false,
      color: 'var(--ifm-color-warning)'
    },
  ];

  if (!isSupported) {
    return <div>ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«</div>;
  }

  return (
    <div>
      <div style={{ marginBottom: '20px' }}>
        <p><strong>å¿«é€Ÿå¼€å§‹ä¸åŒè¯­è¨€å’Œæ¨¡å¼:</strong></p>
        <div style={{ 
          display: 'grid', 
          gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))',
          gap: '10px',
          marginBottom: '16px'
        }}>
          {quickOptions.map((option, index) => (
            <button
              key={index}
              onClick={() => start(option.language, option.continuous)}
              disabled={isListening}
              style={{
                padding: '12px 8px',
                border: '1px solid var(--ifm-color-emphasis-300)',
                backgroundColor: isListening ? 'var(--ifm-color-emphasis-300)' : option.color,
                color: 'var(--ifm-color-white)',
                borderRadius: '6px',
                cursor: isListening ? 'not-allowed' : 'pointer',
                fontSize: '13px',
                display: 'flex',
                flexDirection: 'column',
                alignItems: 'center',
                gap: '4px',
                textAlign: 'center'
              }}
            >
              <span style={{ fontSize: '18px' }}>{option.flag}</span>
              <span>{option.name}</span>
            </button>
          ))}
        </div>
        
        {isListening && (
          <button
            onClick={stop}
            style={{
              padding: '8px 16px',
              border: 'none',
              backgroundColor: 'var(--ifm-color-danger)',
              color: 'var(--ifm-color-white)',
              borderRadius: '4px',
              cursor: 'pointer',
              width: '100%'
            }}
          >
            åœæ­¢ç›‘å¬
          </button>
        )}
      </div>
      
      <div style={{ 
        padding: '16px', 
        border: '1px solid var(--ifm-color-emphasis-200)', 
        borderRadius: '6px',
        minHeight: '80px',
        backgroundColor: 'var(--ifm-background-surface-color)',
        color: 'var(--ifm-color-content)'
      }}>
        <strong>ç»“æœ:</strong> {result || 'ç‚¹å‡»ä»»æ„æŒ‰é’®å¼€å§‹è¯´è¯...'}
      </div>
      
      <div style={{ 
        marginTop: '12px',
        padding: '12px',
        backgroundColor: 'var(--ifm-background-surface-color)',
        borderRadius: '4px',
        fontSize: '14px',
        color: 'var(--ifm-color-content-secondary)'
      }}>
        <strong>æç¤º:</strong> è¿ç»­æ¨¡å¼ä¼šæŒç»­ç›‘å¬ç›´åˆ°æ‚¨åœæ­¢ï¼Œ
        è€Œå•æ¬¡æ¨¡å¼åœ¨æ£€æµ‹åˆ°ä¸€ä¸ªçŸ­è¯­åä¼šè‡ªåŠ¨åœæ­¢ã€‚
      </div>
    </div>
  );
}
```

## æ³¨æ„äº‹é¡¹

- **éœ€è¦ HTTPS**: æ­¤ API åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éœ€è¦ HTTPS
- **ç”¨æˆ·äº¤äº’**: æŸäº›æµè§ˆå™¨å¯èƒ½éœ€è¦ç”¨æˆ·äº¤äº’æ‰èƒ½å¼€å§‹è¯­éŸ³è¯†åˆ«
- **æƒé™**: æµè§ˆå™¨ä¼šåœ¨é¦–æ¬¡ä½¿ç”¨æ—¶è¯·æ±‚éº¦å…‹é£æƒé™
- **éšç§**: è¯­éŸ³æ•°æ®å¯èƒ½ä¼šå‘é€åˆ°äº‘æœåŠ¡è¿›è¡Œå¤„ç†
- **å‡†ç¡®æ€§**: ç»“æœå¯èƒ½å› éº¦å…‹é£è´¨é‡ã€ç¯å¢ƒå™ªéŸ³å’Œå£éŸ³è€Œæœ‰æ‰€ä¸åŒ

## å¸¸è§ç”¨ä¾‹

- **è¯­éŸ³å‘½ä»¤**: å®ç°è¯­éŸ³æ§åˆ¶ç•Œé¢
- **å¬å†™**: ä¸ºè¡¨å•æ·»åŠ è¯­éŸ³è½¬æ–‡æœ¬åŠŸèƒ½
- **æ— éšœç¢**: ä¸ºè¡ŒåŠ¨ä¸ä¾¿çš„ç”¨æˆ·æä¾›è¯­éŸ³è¾“å…¥
- **æœç´¢**: å¯ç”¨è¯­éŸ³æœç´¢åŠŸèƒ½
- **ç¬”è®°**: åˆ›å»ºè¯­éŸ³å¤‡å¿˜å½•åº”ç”¨ç¨‹åº

%%API%%
