---
title: useEventEmitter 用法與示例
sidebar_label: useEventEmitter
description: 基礎的事件觸發器。 本文介紹其用法、最佳實踐與代碼示例。適用於 React 開發中需要處理副作用的場景。
---
# useEventEmitter

基礎的事件觸發器

## Usage

```tsx live noInline

function Demo() {
  const [state, setState] = useState(0);
  const [event, fire, dispose] = useEventEmitter<number>();

  const event1 = useRef<IDisposable>();
  useEffect(() => {
    event((val) => {
      setState(s => s + val);
    });
    event1.current = event(val => setState(s => s + val + 10));
  }, [event]);

  return (
    <div>
      <div>狀態：{state}</div>
      <button onClick={() => fire(1)}>觸發</button>
      <button onClick={() => dispose()}>釋放全部</button>
      <button onClick={() => event1.current?.dispose()}>釋放單個</button>
    </div>
  );
};

render(<Demo/>)
```

%%API%%