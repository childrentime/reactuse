---
title: useDraggable ç”¨æ³•èˆ‡ç¤ºä¾‹
sidebar_label: useDraggable
description: å…ƒç´ æ‹–åŠ¨ã€‚ æœ¬æ–‡ä»‹ç´¹å…¶ç”¨æ³•ã€æœ€ä½³å¯¦è¸èˆ‡ä»£ç¢¼ç¤ºä¾‹ã€‚é©ç”¨æ–¼ React é–‹ç™¼ä¸­éœ€è¦è™•ç†å‰¯ä½œç”¨çš„å ´æ™¯ã€‚
---
# useDraggable

å…ƒç´ æ‹–åŠ¨

## Usage

### Fixed Demo

```tsx live

function Demo() {
  const el = useRef<HTMLDivElement>(null);

  const [initialValue, setInitialValue] = useState({ x: 200 / 2.2, y: 120 });

  useEffect(() => {
    setInitialValue({ x: window.innerWidth / 2.2, y: 120 });
  }, []);

  const [x, y, isDragging] = useDraggable(el, {
    initialValue,
    preventDefault: true,
  });

  return (
    <div>
      <p style={{ textAlign: "center" }}>æŸ¥çœ‹æµ®å‹•æ–¹æ¡†</p>
      <div
        ref={el}
        style={{
          position: "fixed",
          cursor: "move",
          zIndex: 10,
          touchAction: "none",
          padding: 10,
          border: "solid 1px",
          left: x,
          top: y,
        }}
      >
        {isDragging ? "æ­£åœ¨æ‹–æ‹½ï¼" : "ğŸ‘‹ æ‹–æ‹½æˆ‘ï¼"}
        <div>
          æˆ‘åœ¨ {Math.round(x)}, {Math.round(y)}
        </div>
      </div>
    </div>
  );
};
```

### Relative Demo

```tsx live
function Demo() {
  const el = useRef<HTMLDivElement>(null);
  const scope = useRef<HTMLDivElement>(null);

  const initialValue = { x: 200 / 2.2, y: 120 };

  const [x, y, isDragging, setPosition] = useDraggable(el, {
    initialValue,
    preventDefault: true,
    containerElement: scope,
  });

  return (
    <div
      ref={scope}
      style={{
        width: 500,
        height: 500,
        border: "1px solid blue",
        position: "relative",
      }}
    >
      <button
        style={{ textAlign: "center" }}
        onClick={() => {
          setPosition({
            x: 250,
            y: 250,
          });
        }}
      >
        è¨­å®šä½ç½®
      </button>
      <div
        ref={el}
        style={{
          position: "absolute",
          cursor: "move",
          zIndex: 10,
          touchAction: "none",
          padding: 10,
          border: "solid 1px",
          left: x,
          top: y,
          whiteSpace: "nowrap",
        }}
      >
        {isDragging ? "æ­£åœ¨æ‹–æ‹½ï¼" : "ğŸ‘‹ æ‹–æ‹½æˆ‘ï¼"}
        <div style={{ whiteSpace: "nowrap" }}>
          æˆ‘åœ¨ {Math.round(x)}, {Math.round(y)}
        </div>
      </div>
    </div>
  );
}
```

%%API%%
